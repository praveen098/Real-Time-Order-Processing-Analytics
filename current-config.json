{
  "name": "postgres-sink-order-placed",
  "config": {
    "connector.class":            "io.confluent.connect.jdbc.JdbcSinkConnector",
    "tasks.max":                  "1",
    "topics":                     "order-placed",
    "connection.url":             "jdbc:postgresql://postgres:5432/orders?user=demo&password=demo",
    "auto.create":                "true",
    "auto.evolve":                "true",
    "insert.mode":                "insert",

    "key.converter":              "org.apache.kafka.connect.storage.StringConverter",
    "key.converter.schemas.enable": "false",

    "value.converter":            "io.confluent.connect.avro.AvroConverter",
    "value.converter.schema.registry.url": "http://schema-registry:8081",

    "table.name.format":          "${topic}",
    "transforms":                 "RouteTable,dropItems",
    "transforms.RouteTable.type": "org.apache.kafka.connect.transforms.RegexRouter",
    "transforms.RouteTable.regex":       "-",
    "transforms.RouteTable.replacement": "_",
    "transforms.dropItems.type":          "org.apache.kafka.connect.transforms.ReplaceField$Value",
    "transforms.dropItems.blacklist":     "items"
  }
}
